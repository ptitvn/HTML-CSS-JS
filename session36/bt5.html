<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <link rel="stylesheet" href="bt5.css" />
  </head>
  <body>
    <h2>ğŸ—‚ï¸ Quáº£n lÃ½ cÃ´ng viá»‡c (Task Board)</h2>

    <div class="task-input">
      <input type="text" id="taskName" placeholder="Nháº­p tÃªn cÃ´ng viá»‡c..." />
      <button>ThÃªm</button>
    </div>

    <div class="board">
      <div class="column" id="pendingCol">
        <h3>ğŸ• Chá» xá»­ lÃ½</h3>
        <div id="pendingTasks">
          <!-- <div class="task">
            <p>Ná»™i dung</p>
            <button>Chuyá»ƒn tiáº¿p</button>
          </div> -->
        </div>
      </div>
      <div class="column" id="inProgressCol">
        <h3>ğŸ”¨ Äang lÃ m</h3>
        <div id="inProgressTasks"></div>
      </div>
      <div class="column" id="doneCol">
        <h3>âœ… HoÃ n thÃ nh</h3>
        <div id="doneTasks">
          <!-- <div class="task">
            <p>Ná»™i dung</p>
          </div> -->
        </div>
      </div>
    </div>
    <script>
      const taskInput = document.getElementById("taskName");
      const addButton = document.querySelector("button");
      const pendingTasksContainer = document.getElementById("pendingTasks");
      const inProgressTasksContainer =
        document.getElementById("inProgressTasks");
      const doneTasksContainer = document.getElementById("doneTasks");

      // táº¡o tÃ¡c vá»¥ trong máº£ng lÃªn local
      let tasks = JSON.parse(localStorage.getItem("tasks")) || [];

      // hiá»‡n thá»‹ nhiá»‡m vá»¥ á»Ÿ dÆ°á»›i thanh
      function renderTasks() {
        // xÃ³a ná»™i dung html hiá»‡n cÃ³
        pendingTasksContainer.innerHTML = "";
        inProgressTasksContainer.innerHTML = "";
        doneTasksContainer.innerHTML = "";

        // láº·p láº¡i cÃ¡c tÃ¡c vá»¥ vÃ o html
        tasks.forEach((task, index) => {
          const taskElem = document.createElement("div");
          taskElem.className = "task";
          taskElem.innerHTML = `
      <p>${task.name}</p>
      <button onclick="changeStatus(${index})">Chuyá»ƒn tráº¡ng thÃ¡i</button>
    `;
          if (task.status === "pending") {
            pendingTasksContainer.appendChild(taskElem);
          } else if (task.status === "in-progress") {
            inProgressTasksContainer.appendChild(taskElem);
          } else if (task.status === "done") {
            doneTasksContainer.appendChild(taskElem);
          }
        });
      }

      // thÃªm nhiá»‡m vá»¥
      function addTask() {
        const taskName = taskInput.value.trim();
        if (!taskName) return;

        const newTask = {
          name: taskName,
          status: "pending",
        };
        tasks.push(newTask);
        localStorage.setItem("tasks", JSON.stringify(tasks));
        taskInput.value = "";
        renderTasks();
      }

      // Chá»©c nÄƒng thay Ä‘á»•i tráº¡ng thÃ¡i nhiá»‡m vá»¥
      function changeStatus(index) {
        const task = tasks[index];
        if (task.status === "pending") {
          task.status = "in-progress";
        } else if (task.status === "in-progress") {
          task.status = "done";
        }
        localStorage.setItem("tasks", JSON.stringify(tasks));
        renderTasks();
      }

      // nghe sá»± kiá»‡n cá»§a nÃºt button
      addButton.addEventListener("click", addTask);
      // hiá»‡n thá»‹ nhiá»‡m vá»¥
      function renderTasks() {
        
        pendingTasksContainer.innerHTML = "";
        inProgressTasksContainer.innerHTML = "";
        doneTasksContainer.innerHTML = "";

        // láº·p láº¡i cÃ¡c tÃ¡c vá»¥ html
        tasks.forEach((task, index) => {
          const taskElem = document.createElement("div");
          taskElem.className = "task";
          taskElem.innerHTML = `
      <p>${task.name}</p>
      ${
        task.status !== "done"
          ? `<button onclick="changeStatus(${index})">Chuyá»ƒn tráº¡ng thÃ¡i</button>`: ""
      }
    `;
          if (task.status === "pending") {
            pendingTasksContainer.appendChild(taskElem);
          } else if (task.status === "in-progress") {
            inProgressTasksContainer.appendChild(taskElem);
          } else if (task.status === "done") {
            doneTasksContainer.appendChild(taskElem);
          }
        });
      }
      renderTasks();
    </script>
  </body>
</html>
